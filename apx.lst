mads 2.1.1
Source: apx.asm
     1 					;; 
     2 					;; APX Logo in Character set
     3 					;; @author  Thomas Cherryhomes
     4 					;; @email   thom dot cherryhomes at gmail dot com
     5 					;; @license gpl v. 3
     6 					;;
     7
     8 = 00F0			C0	=	$F0
     9 = 00F1			C1	=	$F1
    10 = 00F2			C2	=	$F2
    11 = 00F3			C3	=	$F3
    12 = 00FE			DL	=	$FE
    13 = 00FF			DH	=	$FF
    14 = 00F6			CS	=	$F6
    15 = 00F7			CO	=	$F7	
    16
    17 = 022F			SDMCTL  =       $022F	
    18 = 0230			SDLSTL	=	$0230
    19 = 0231			SDLSTH	=	$0231
    20 = 026F			GPRIOR	=	$026F
    21 = 02F4			CHBAS	=	$02F4
    22 					
    23 = 0200			VDSLSTL	=       $0200
    24 = 0201			VDSLSTH =	$0201	
    25
    26 = D01D			GRACTL	=	$D01D
    27 = D407			PMBASE  =	$D407
    28 = D40A			WSYNC	=	$D40A
    29 = D40B			VCOUNT  =       $D40B
    30 = D40E			NMIEN	=	$D40E
    31 					
    32 					ORG	$3400
    33
    34 FFFF> 3400-35FF> 00 00 + FONT:	INS	"apx.fnt"
    35
    36 3600				ORG	$3800
    37 3800			PMG:				; P/M Data
    38 3800-3D68> 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00 ; Empty.
    39 3810 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    40 3820 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    41 3830 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    42 3840 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    43 3850 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    44 3860 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    45 3870 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    46 3880 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    47 3890 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    48 38A0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    49 38B0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    50 38C0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    51 38D0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    52 38E0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    53 38F0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    54 3900 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    55 3910 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    56 3920 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    57 3930 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    58 3940 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    59 3950 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    60 3960 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    61 3970 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    62 					
    63 3980 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    64 3990 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    65 39A0 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07
    66 39B0 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07
    67 39C0 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$00,$00,$00,$00,$00,$00,$00,$00,$00
    68 39D0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    69 39E0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    70 39F0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    71
    72 3A00 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    73 3A10 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    74 3A20 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07
    75 3A30 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07
    76 3A40 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$00,$00,$00,$00,$00,$00,$00,$00,$00
    77 3A50 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    78 3A60 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    79 3A70 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    80
    81 3A80 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    82 3A90 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    83 3AA0 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07
    84 3AB0 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07
    85 3AC0 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$00,$00,$00,$00,$00,$00,$00,$00,$00
    86 3AD0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    87 3AE0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    88 3AF0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00	
    89
    90 3B00 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    91 3B10 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    92 3B20 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07
    93 3B30 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07
    94 3B40 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$00,$00,$00,$00,$00,$00,$00,$00,$00
    95 3B50 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    96 3B60 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    97 3B70 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    98
    99 3B80 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
   100 3B90 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
   101 3BA0 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07
   102 3BB0 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07
   103 3BC0 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$00,$00,$00,$00,$00,$00,$00,$00,$00
   104 3BD0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
   105 3BE0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
   106 3BF0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
   107 					
   108 					;; Display List
   109 					
   110 3C00 F0 70 70 70 70 70 + DLST:	.BYTE	$F0,$70,$70,$70,$70,$70,$70
   111 3C07 47 11 3C			.BYTE	$47,.LO(SCR),.HI(SCR)
   112 3C0A 07 07 07 07			.BYTE	$07,$07,$07,$07
   113 3C0E 41 00 3C			.BYTE	$41,.LO(DLST),.HI(DLST)
   114
   115 					;; Screen Data
   116 3C11			SCR:
   117 3C11 01 02 03 04 04 04 + 	.BYTE $01,$02,$03,$04,$04,$04,$04,$04,$04,$05,$06,$07,$08,$09,$0a,$0b,$bc,$fc,$7c,$00
   118 3C25 0D 04 0E 0F 10 11 + 	.BYTE $0d,$04,$0e,$0f,$10,$11,$12,$04,$13,$14,$04,$15,$16,$17,$18,$19,$bc,$fc,$7c,$00
   119 3C39 1A 04 1B 1C 1D 04 + 	.BYTE $1a,$04,$1b,$1c,$1d,$04,$1e,$04,$1f,$20,$21,$22,$23,$24,$25,$00,$bc,$fc,$7c,$00
   120 3C4D 26 04 04 04 04 04 + 	.BYTE $26,$04,$04,$04,$04,$04,$1e,$04,$27,$28,$29,$2a,$2b,$2c,$2d,$2e,$bc,$fc,$7c,$00
   121 3C61 2F 30 31 32 33 04 + 	.BYTE $2f,$30,$31,$32,$33,$04,$1e,$04,$34,$00,$35,$36,$37,$38,$39,$3a,$bd,$fd,$7d,$00
   122
   123 3C75 48			DLI:	PHA
   124 3C76 8D 0A D4		L0:	STA WSYNC
   125 3C79 A9 AC			LDA #$AC
   126 3C7B 8D 00 D0			STA $D000
   127 3C7E AD 0B D4			LDA VCOUNT
   128 3C81 29 07			AND #$07
   129 3C83 F0 19			BEQ L2
   130 3C85 EA			L1:     NOP
   131 3C86 EA				NOP
   132 3C87 EA				NOP
   133 3C88 EA				NOP
   134 3C89 EA				NOP
   135 3C8A EA				NOP
   136 3C8B EA				NOP
   137 3C8C EA				NOP
   138 3C8D EA				NOP
   139 3C8E EA				NOP
   140 3C8F EA				NOP
   141 3C90 EA				NOP
   142 3C91 EA				NOP	
   143 3C92 EA				NOP
   144 3C93 EA				NOP
   145 3C94 EA				NOP
   146 3C95 EA				NOP
   147 3C96 EA				NOP
   148 3C97 EA				NOP
   149 3C98 EA				NOP
   150 3C99 EA				NOP
   151 3C9A EA				NOP
   152 3C9B 4C A8 3C			JMP LC
   153 3C9E EA			L2:	NOP
   154 3C9F EA				NOP
   155 3CA0 EA				NOP
   156 3CA1 EA				NOP
   157 3CA2 EA				NOP
   158 3CA3 EA				NOP
   159 3CA4 EA				NOP
   160 3CA5 EA				NOP
   161 3CA6 EA				NOP
   162 3CA7 EA				NOP
   163 3CA8 A9 C8		LC:	LDA #$C8
   164 3CAA 8D 00 D0			STA $D000
   165 3CAD AD 0B D4			LDA VCOUNT
   166 3CB0 C9 50			CMP #80
   167 3CB2 D0 C2			BNE L0
   168 3CB4 68				PLA
   169 3CB5 40				RTI
   170 					
   171 3CB6			START:
   172 					;; CLEAR KEYBOARD BUFFER
   173 3CB6 A9 FF			LDA	#$FF
   174 3CB8 8D FC 02			STA	$02FC
   175 					
   176 					;; SAVE DISPLAY LIST
   177
   178 3CBB AD 30 02			LDA	SDLSTL
   179 3CBE 85 FE			STA	DL
   180 3CC0 AD 31 02			LDA	SDLSTH
   181 3CC3 85 FF			STA	DH
   182
   183 					;; SAVE COLOR REGISTERS
   184
   185 3CC5 A2 04			LDX	#$04
   186 3CC7 BD C4 02		SL1:	LDA	$02C4,X
   187 3CCA 95 F0			STA	C0,X
   188 3CCC CA				DEX
   189 3CCD 10 F8			BPL	SL1
   190
   191 					;; SAVE CHARSET
   192
   193 3CCF AD F4 02			LDA	CHBAS
   194 3CD2 85 F6			STA	CS
   195 					
   196 					;; SET COLOR REGISTERS
   197
   198 3CD4 A9 80			LDA	#$80
   199 3CD6 8D C0 02			STA	$02C0
   200 3CD9 A9 34			LDA	#$34
   201 3CDB 8D C1 02			STA	$02C1
   202 3CDE A9 1E			LDA	#$1E
   203 3CE0 8D C2 02			STA	$02C2
   204 3CE3 A9 C4			LDA	#$C4
   205 3CE5 8D C3 02			STA	$02C3
   206 					
   207 3CE8 A9 00			LDA	#$00
   208 3CEA 8D C4 02			STA	$02C4
   209 3CED A9 D8			LDA	#$D8
   210 3CEF 8D C5 02			STA	$02C5
   211 3CF2 A9 30			LDA	#$30
   212 3CF4 8D C6 02			STA	$02C6
   213 3CF7 A9 2A			LDA	#$2A
   214 3CF9 8D C7 02			STA	$02C7
   215 3CFC A9 0E			LDA	#$0E
   216 3CFE 8D C8 02			STA	$02C8
   217
   218 					;; Set Up PMG
   219 3D01 A9 38			LDA	#>PMG
   220 3D03 8D 07 D4			STA	PMBASE
   221 3D06 A9 10			LDA	#$10
   222 3D08 8D 6F 02			STA	GPRIOR
   223 3D0B A9 03			LDA	#$03
   224 3D0D 8D 1D D0			STA	GRACTL
   225 3D10 A9 2E			LDA	#$2E		; Normal with DMA for both P & M
   226 3D12 8D 2F 02			STA	SDMCTL
   227
   228 3D15 A9 AC			LDA	#$ac
   229 3D17 8D 00 D0			STA	$D000
   230
   231 3D1A A9 B4			LDA	#$B4
   232 3D1C 8D 01 D0			STA	$D001
   233
   234 3D1F A9 BC			LDA	#$BC
   235 3D21 8D 02 D0			STA	$D002
   236
   237 3D24 A9 C4			LDA	#$C4
   238 3D26 8D 03 D0			STA	$D003
   239
   240 					;; LDA	#$CD
   241 					;; STA	$D004
   242 					;; LDA	#$CE
   243 					;; STA	$D005
   244 					
   245 					;; SET DISPLAY LIST
   246
   247 3D29 A9 00			LDA	#.lo(DLST)
   248 3D2B 8D 30 02			STA	SDLSTL
   249 3D2E A9 3C			LDA	#.hi(DLST)
   250 3D30 8D 31 02			STA	SDLSTH
   251
   252 3D33 A2 FF			LDX	#$FF
   253 3D35 8E FC 02			STX	$02FC
   254 					
   255 					;; SET CHARSET
   256
   257 3D38 A9 34			LDA	#.HI(FONT)
   258 3D3A 8D F4 02			STA	CHBAS
   259
   260 					;; DLI NMI enable
   261 3D3D A9 75			LDA	#.lo(DLI)
   262 3D3F 8D 00 02			STA	VDSLSTL
   263 3D42 A9 3C			LDA	#.hi(DLI)
   264 3D44 8D 01 02			STA	VDSLSTH
   265 3D47 A9 C0			LDA	#$C0
   266 3D49 8D 0E D4			STA	NMIEN
   267 					
   268 					;; Main loop
   269
   270 3D4C 4C 4C 3D		LOOP:	JMP	LOOP
   271
   272 					;; RESTORE DISPLAY LIST
   273
   274 3D4F A5 FE			LDA	DL
   275 3D51 8D 30 02			STA	SDLSTL
   276 3D54 A5 FF			LDA	DH
   277 3D56 8D 31 02			STA	SDLSTH
   278 					
   279 					;; RESTORE COLOR REGISTERS
   280
   281 3D59 A2 04			LDX	#$04
   282 3D5B B5 F0		SL2:	LDA	C0,X
   283 3D5D 9D C4 02			STA	$02C4,X
   284 3D60 CA				DEX
   285 3D61 10 F8			BPL	SL2
   286
   287 					;; RESTORE CHARACTER SET
   288
   289 3D63 A5 F6			LDA	CS
   290 3D65 8D F4 02			STA	CHBAS
   291 					
   292 3D68 60				RTS
   293
   294 02E0-02E1> B6 3C			RUN	START
   295 					
