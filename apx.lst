mads 2.1.1
Source: apx.asm
     1 					;; 
     2 					;; APX Logo in Character set
     3 					;; @author  Thomas Cherryhomes
     4 					;; @email   thom dot cherryhomes at gmail dot com
     5 					;; @license gpl v. 3
     6 					;;
     7
     8 = 00F0			C0	=	$F0
     9 = 00F1			C1	=	$F1
    10 = 00F2			C2	=	$F2
    11 = 00F3			C3	=	$F3
    12 = 00FE			DL	=	$FE
    13 = 00FF			DH	=	$FF
    14 = 00F6			CS	=	$F6
    15 = 00F7			CO	=	$F7	
    16
    17 = 022F			SDMCTL  =       $022F	
    18 = 0230			SDLSTL	=	$0230
    19 = 0231			SDLSTH	=	$0231
    20 = 026F			GPRIOR	=	$026F
    21 = 02F4			CHBAS	=	$02F4
    22 					
    23 = 0200			VDSLSTL	=       $0200
    24 = 0201			VDSLSTH =	$0201	
    25
    26 = D01D			GRACTL	=	$D01D
    27 = D407			PMBASE  =	$D407
    28 = D40A			WSYNC	=	$D40A
    29 = D40E			NMIEN	=	$D40E
    30 					
    31 					ORG	$3400
    32
    33 FFFF> 3400-35FF> 00 00 + FONT:	INS	"apx.fnt"
    34
    35 3600				ORG	$3800
    36 3800			PMG:				; P/M Data
    37 3800-3D53> 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00 ; Empty.
    38 3810 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    39 3820 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    40 3830 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    41 3840 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    42 3850 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    43 3860 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    44 3870 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    45 3880 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    46 3890 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    47 38A0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    48 38B0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    49 38C0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    50 38D0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    51 38E0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    52 38F0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    53 3900 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    54 3910 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    55 3920 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    56 3930 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    57 3940 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    58 3950 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    59 3960 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    60 3970 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    61 					
    62 3980 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    63 3990 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    64 39A0 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07
    65 39B0 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07
    66 39C0 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$00,$00,$00,$00,$00,$00,$00,$00,$00
    67 39D0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    68 39E0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    69 39F0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    70
    71 3A00 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    72 3A10 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    73 3A20 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07
    74 3A30 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07
    75 3A40 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$00,$00,$00,$00,$00,$00,$00,$00,$00
    76 3A50 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    77 3A60 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    78 3A70 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    79
    80 3A80 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    81 3A90 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    82 3AA0 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07
    83 3AB0 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07
    84 3AC0 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$00,$00,$00,$00,$00,$00,$00,$00,$00
    85 3AD0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    86 3AE0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    87 3AF0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00	
    88
    89 3B00 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    90 3B10 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    91 3B20 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07
    92 3B30 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07
    93 3B40 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$00,$00,$00,$00,$00,$00,$00,$00,$00
    94 3B50 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    95 3B60 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    96 3B70 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    97
    98 3B80 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    99 3B90 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
   100 3BA0 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07
   101 3BB0 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07
   102 3BC0 07 07 07 07 07 07 + 	.BYTE $07,$07,$07,$07,$07,$07,$07,$00,$00,$00,$00,$00,$00,$00,$00,$00
   103 3BD0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
   104 3BE0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
   105 3BF0 00 00 00 00 00 00 + 	.BYTE $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
   106 					
   107 					;; Display List
   108 					
   109 3C00 70 70 70 70 70 70 + DLST:	.BYTE	$70,$70,$70,$70,$70,$70,$70
   110 3C07 C7 11 3C			.BYTE	$C7,.LO(SCR),.HI(SCR)
   111 3C0A 87 87 87 87			.BYTE	$87,$87,$87,$87
   112 3C0E 41 00 3C			.BYTE	$41,.LO(DLST),.HI(DLST)
   113
   114 					;; Screen Data
   115 3C11			SCR:
   116 3C11 01 02 03 04 04 04 + 	.BYTE $01,$02,$03,$04,$04,$04,$04,$04,$04,$05,$06,$07,$08,$09,$0a,$0b,$bc,$fc,$7c,$00
   117 3C25 0D 04 0E 0F 10 11 + 	.BYTE $0d,$04,$0e,$0f,$10,$11,$12,$04,$13,$14,$04,$15,$16,$17,$18,$19,$bc,$fc,$7c,$00
   118 3C39 1A 04 1B 1C 1D 04 + 	.BYTE $1a,$04,$1b,$1c,$1d,$04,$1e,$04,$1f,$20,$21,$22,$23,$24,$25,$00,$bc,$fc,$7c,$00
   119 3C4D 26 04 04 04 04 04 + 	.BYTE $26,$04,$04,$04,$04,$04,$1e,$04,$27,$28,$29,$2a,$2b,$2c,$2d,$2e,$bc,$fc,$7c,$00
   120 3C61 2F 30 31 32 33 04 + 	.BYTE $2f,$30,$31,$32,$33,$04,$1e,$04,$34,$00,$35,$36,$37,$38,$39,$3a,$bd,$fd,$7d,$00
   121
   122 3C75			START:
   123 					;; CLEAR KEYBOARD BUFFER
   124 3C75 A9 FF			LDA	#$FF
   125 3C77 8D FC 02			STA	$02FC
   126 					
   127 					;; SAVE DISPLAY LIST
   128
   129 3C7A AD 30 02			LDA	SDLSTL
   130 3C7D 85 FE			STA	DL
   131 3C7F AD 31 02			LDA	SDLSTH
   132 3C82 85 FF			STA	DH
   133
   134 					;; SAVE COLOR REGISTERS
   135
   136 3C84 A2 04			LDX	#$04
   137 3C86 BD C4 02		SL1:	LDA	$02C4,X
   138 3C89 95 F0			STA	C0,X
   139 3C8B CA				DEX
   140 3C8C 10 F8			BPL	SL1
   141
   142 					;; SAVE CHARSET
   143
   144 3C8E AD F4 02			LDA	CHBAS
   145 3C91 85 F6			STA	CS
   146 					
   147 					;; SET COLOR REGISTERS
   148
   149 3C93 A9 80			LDA	#$80
   150 3C95 8D C0 02			STA	$02C0
   151 3C98 A9 34			LDA	#$34
   152 3C9A 8D C1 02			STA	$02C1
   153 3C9D A9 1E			LDA	#$1E
   154 3C9F 8D C2 02			STA	$02C2
   155 3CA2 A9 C4			LDA	#$C4
   156 3CA4 8D C3 02			STA	$02C3
   157 					
   158 3CA7 A9 00			LDA	#$00
   159 3CA9 8D C4 02			STA	$02C4
   160 3CAC A9 D8			LDA	#$D8
   161 3CAE 8D C5 02			STA	$02C5
   162 3CB1 A9 30			LDA	#$30
   163 3CB3 8D C6 02			STA	$02C6
   164 3CB6 A9 2A			LDA	#$2A
   165 3CB8 8D C7 02			STA	$02C7
   166 3CBB A9 0E			LDA	#$0E
   167 3CBD 8D C8 02			STA	$02C8
   168
   169 					;; Set Up PMG
   170 3CC0 A9 38			LDA	#>PMG
   171 3CC2 8D 07 D4			STA	PMBASE
   172 3CC5 A9 10			LDA	#$10
   173 3CC7 8D 6F 02			STA	GPRIOR
   174 3CCA A9 03			LDA	#$03
   175 3CCC 8D 1D D0			STA	GRACTL
   176 3CCF A9 2E			LDA	#$2E		; Normal with DMA for both P & M
   177 3CD1 8D 2F 02			STA	SDMCTL
   178
   179 3CD4 A9 AC			LDA	#$ac
   180 3CD6 8D 00 D0			STA	$D000
   181
   182 3CD9 A9 B4			LDA	#$B4
   183 3CDB 8D 01 D0			STA	$D001
   184
   185 3CDE A9 BC			LDA	#$BC
   186 3CE0 8D 02 D0			STA	$D002
   187
   188 3CE3 A9 C4			LDA	#$C4
   189 3CE5 8D 03 D0			STA	$D003
   190
   191 3CE8 A9 CD			LDA	#$CD
   192 3CEA 8D 04 D0			STA	$D004
   193 3CED A9 CE			LDA	#$CE
   194 3CEF 8D 05 D0			STA	$D005
   195 					
   196 					;; SET DISPLAY LIST
   197
   198 3CF2 A9 00			LDA	#.lo(DLST)
   199 3CF4 8D 30 02			STA	SDLSTL
   200 3CF7 A9 3C			LDA	#.hi(DLST)
   201 3CF9 8D 31 02			STA	SDLSTH
   202
   203 3CFC A2 FF			LDX	#$FF
   204 3CFE 8E FC 02			STX	$02FC
   205 					
   206 					;; SET CHARSET
   207
   208 3D01 A9 34			LDA	#.HI(FONT)
   209 3D03 8D F4 02			STA	CHBAS
   210
   211 					;; ;; DLI NMI enable
   212 					;; LDA	#.lo(DLI)
   213 					;; STA	VDSLSTL
   214 					;; LDA	#.hi(DLI)
   215 					;; STA	VDSLSTH
   216 					;; LDA	#$C0
   217 					;; STA	NMIEN
   218 					
   219 					;; Main loop
   220
   221 3D06 8D 0A D4		LOOP:	STA 	WSYNC
   222 3D09 EA				NOP
   223 3D0A EA				NOP
   224 3D0B EA				NOP
   225 3D0C EA				NOP
   226 3D0D EA				NOP
   227 3D0E EA				NOP
   228 3D0F EA				NOP
   229 3D10 EA				NOP
   230 3D11 EA				NOP
   231 3D12 EA				NOP
   232 3D13 EA				NOP
   233 3D14 EA				NOP
   234 3D15 EA				NOP
   235 3D16 EA				NOP
   236 3D17 EA				NOP
   237 3D18 EA				NOP
   238 3D19 EA				NOP
   239 3D1A EA				NOP
   240 3D1B EA				NOP
   241 3D1C EA				NOP
   242 3D1D EA				NOP
   243 3D1E EA				NOP
   244 3D1F EA				NOP
   245 3D20 EA				NOP
   246 3D21 EA				NOP
   247 3D22 EA				NOP
   248 3D23 EA				NOP
   249 3D24 EA				NOP
   250 3D25 EA				NOP
   251 3D26 EA				NOP
   252 3D27 EA				NOP
   253 3D28 EA				NOP
   254 3D29 EA				NOP
   255 3D2A EA				NOP
   256 3D2B EA				NOP
   257 3D2C EA				NOP
   258 3D2D A9 80			LDA	#$80
   259 3D2F 8D 19 D0			STA	$D019
   260 					
   261 3D32 A9 2A			LDA	#$2A
   262 3D34 8D 19 D0			STA	$D019
   263 					
   264 3D37 4C 06 3D			JMP	LOOP
   265
   266 					;; RESTORE DISPLAY LIST
   267
   268 3D3A A5 FE			LDA	DL
   269 3D3C 8D 30 02			STA	SDLSTL
   270 3D3F A5 FF			LDA	DH
   271 3D41 8D 31 02			STA	SDLSTH
   272 					
   273 					;; RESTORE COLOR REGISTERS
   274
   275 3D44 A2 04			LDX	#$04
   276 3D46 B5 F0		SL2:	LDA	C0,X
   277 3D48 9D C4 02			STA	$02C4,X
   278 3D4B CA				DEX
   279 3D4C 10 F8			BPL	SL2
   280
   281 					;; RESTORE CHARACTER SET
   282
   283 3D4E A5 F6			LDA	CS
   284 3D50 8D F4 02			STA	CHBAS
   285 					
   286 3D53 60				RTS
   287
   288 02E0-02E1> 75 3C			RUN	START
   289 					
